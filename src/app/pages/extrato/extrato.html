@if(carregando()) {
<div class="container p-2 pt-0">
  <mat-card>
    <mat-card-content>
      <div class="d-flex flex-column align-items-center gap-3">
        <mat-spinner diameter="40" color="primary"></mat-spinner>
        <p class="mb-0">Carregando...</p>
      </div>
    </mat-card-content>
  </mat-card>
</div>
}
<div class="container p-2" [class.visually-hidden]="!!carregando()">
  <mat-card
    class="h-100"
    appearance="filled"
    (click)="navegarDashboard()"
    role="button"
    tabindex="0"
    (keydown.enter)="navegarDashboard()"
    (keydown.space)="navegarDashboard()"
    aria-label="Ver extrato total de compras"
  >
    <mat-card-header class="d-flex justify-content-center">
      <mat-card-title>{{
        formatarParaReal(somaCategoria(codigo_categoria_compra()))
      }}</mat-card-title>
    </mat-card-header>
    <mat-card-content
      class="h-100 d-flex align-items-end justify-content-center"
    >
      <span>{{ titulo }}</span>
    </mat-card-content>
  </mat-card>
</div>
<div class="container p-2 pt-0" [class.visually-hidden]="!!carregando()">
  <mat-card appearance="filled">
    <mat-card-content class="p-2">
      <table
        mat-table
        [dataSource]="dataSource"
        style="background-color: transparent"
      >
        <ng-container matColumnDef="codigo_categoria_compra">
          <!-- <th class="p-0" mat-header-cell *matHeaderCellDef></th> -->
          <td class="p-0" mat-cell *matCellDef="let element">
            <mat-icon>{{
              categoriaCompra(element.codigo_categoria_compra).icon
            }}</mat-icon>
          </td>
        </ng-container>
        <ng-container matColumnDef="descricao_compra">
          <!-- <th class="p-0" mat-header-cell *matHeaderCellDef>DESCRIÇÃO</th> -->
          <td class="p-0" mat-cell *matCellDef="let element">
            <span>{{ formatarParaData(element.data_compra) }}</span>
            <br />
            <b>{{ element.descricao_compra.toUpperCase() }}</b>
          </td>
        </ng-container>
        <ng-container matColumnDef="valor_compra">
          <!-- <th class="p-0 text-center" mat-header-cell *matHeaderCellDef>
            VALOR
          </th> -->
          <td class="p-0 text-center" mat-cell *matCellDef="let element">
            {{ formatarParaReal(element.valor_compra) }}
          </td>
        </ng-container>
        <!-- <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr> -->
        <tr
          mat-row
          (click)="detalhar(element)"
          *matRowDef="let element; columns: displayedColumns"
        ></tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>
